<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visual Identity Designer | Ù…ØµÙ…Ù… Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø¨ØµØ±ÙŠØ©</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root { --gold: #c5a059; --black: #121212; --white: #ffffff; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: #f8f9fa; margin: 0; padding: 20px; color: var(--black); }
        .container { max-width: 900px; margin: auto; background: var(--white); padding: 35px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); }
        .lang-switch { display: flex; justify-content: flex-end; gap: 10px; margin-bottom: 20px; }
        .lang-btn { padding: 8px 16px; border: 1px solid #ddd; background: white; cursor: pointer; border-radius: 20px; transition: 0.3s; }
        .lang-btn.active { background: var(--gold); color: white; border-color: var(--gold); }
        .header { text-align: center; margin-bottom: 35px; }
        .form-group { display: flex; gap: 15px; margin-bottom: 25px; flex-wrap: wrap; }
        input { flex: 1; padding: 14px; border: 2px solid #eee; border-radius: 8px; font-size: 16px; min-width: 250px; }
        .actions { display: flex; gap: 12px; }
        button.main-btn { flex: 2; padding: 15px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 16px; transition: 0.3s; background: var(--black); color: white; }
        button.pdf-btn { flex: 1; display: none; background: var(--gold); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; }
        #output { margin-top: 30px; padding: 30px; border: 1px solid #eee; border-radius: 12px; background: #fff; line-height: 1.8; }
        #output h3 { color: var(--gold); border-bottom: 2px solid #f0f0f0; padding-bottom: 10px; margin-top: 25px; }
        .loading { display: none; text-align: center; padding: 20px; font-weight: bold; color: var(--gold); }
    </style>
</head>
<body>

<div class="container">
    <div class="lang-switch">
        <button id="btn-ar" class="lang-btn active" onclick="setLanguage('ar')">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
        <button id="btn-en" class="lang-btn" onclick="setLanguage('en')">English</button>
    </div>

    <div class="header">
        <h1 id="txt-title">ğŸ¨ Ù…ØµÙ…Ù… Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø¨ØµØ±ÙŠØ© Ø§Ù„Ø°ÙƒÙŠ</h1>
        <p id="txt-subtitle">ØªÙˆÙ„ÙŠØ¯ Ø¯Ù„ÙŠÙ„ Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø¨ØµØ±ÙŠØ© Ø§Ù„ÙƒØ§Ù…Ù„ (10 Ù†Ù‚Ø§Ø·)</p>
    </div>

    <div class="form-group">
        <input id="brand" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¨Ø±Ø§Ù†Ø¯">
        <input id="industry" placeholder="Ø§Ù„Ù…Ø¬Ø§Ù„">
    </div>

    <div class="actions">
        <button class="main-btn" id="genBtn" onclick="generateIdentity()">âœ¨ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ</button>
        <button id="downloadBtn" class="pdf-btn" onclick="downloadPDF()">ğŸ“¥ ØªØ­Ù…ÙŠÙ„ PDF</button>
    </div>

    <div id="loading" class="loading">â³ Ø¬Ø§Ø±ÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨Ø±Ø§Ù†Ø¯ ÙˆØªØµÙ…ÙŠÙ… Ø§Ù„Ù‡ÙˆÙŠØ©...</div>
    <div id="output"></div>
</div>

<script>
// Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø°ÙŠ ØªØ³ØªØ®Ø¯Ù…Ù‡ ØµØ­ÙŠØ­ØŒ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© ÙƒØ§Ù†Øª ÙÙ‚Ø· ÙÙŠ Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø±Ø§Ø¨Ø·
const API_KEY = "AIzaSyBjOa3C35JoOuZItLcjfDXbV4XTeGPHzZw"; 
let currentLang = 'ar';

function setLanguage(lang) {
    currentLang = lang;
    document.dir = lang === 'ar' ? 'rtl' : 'ltr';
    document.getElementById('btn-ar').classList.toggle('active', lang === 'ar');
    document.getElementById('btn-en').classList.toggle('active', lang === 'en');
    
    const t = {
        ar: { title: "ğŸ¨ Ù…ØµÙ…Ù… Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø¨ØµØ±ÙŠØ© Ø§Ù„Ø°ÙƒÙŠ", sub: "ØªÙˆÙ„ÙŠØ¯ Ø¯Ù„ÙŠÙ„ Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø¨ØµØ±ÙŠØ© Ø§Ù„ÙƒØ§Ù…Ù„ (10 Ù†Ù‚Ø§Ø·)", btn: "âœ¨ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ", pdf: "ğŸ“¥ ØªØ­Ù…ÙŠÙ„ PDF", brand: "Ø§Ø³Ù… Ø§Ù„Ø¨Ø±Ø§Ù†Ø¯", industry: "Ø§Ù„Ù…Ø¬Ø§Ù„" },
        en: { title: "ğŸ¨ Visual Identity Designer", sub: "Full Brand Components Guide (10 Points)", btn: "âœ¨ Generate Creative Guide", pdf: "ğŸ“¥ Download PDF", brand: "Brand Name", industry: "Industry" }
    };
    
    document.getElementById('txt-title').innerText = t[lang].title;
    document.getElementById('txt-subtitle').innerText = t[lang].sub;
    document.getElementById('genBtn').innerText = t[lang].btn;
    document.getElementById('downloadBtn').innerText = t[lang].pdf;
    document.getElementById('brand').placeholder = t[lang].brand;
    document.getElementById('industry').placeholder = t[lang].industry;
}

async function generateIdentity() {
    const brand = document.getElementById('brand').value.trim();
    const industry = document.getElementById('industry').value.trim();
    const outputDiv = document.getElementById('output');
    const loading = document.getElementById('loading');
    const downloadBtn = document.getElementById('downloadBtn');

    if (!brand || !industry) {
        alert(currentLang === 'ar' ? "ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„" : "Please fill all fields");
        return;
    }

    loading.style.display = "block";
    outputDiv.style.display = "none";
    downloadBtn.style.display = "none";

    const promptText = `Act as a world-class brand strategist. Create a detailed Visual Identity Guide for "${brand}" in the "${industry}" industry.
    Response language: ${currentLang === 'ar' ? 'Arabic' : 'English'}.
    Cover these 10 components:
    1) Logo description, 2) Primary Colors (Hex), 3) Secondary Colors, 4) Typography, 5) Graphic Elements, 6) Logo Usage Guidelines, 7) Identity Applications, 8) Photography Style, 9) Brand Tone, 10) Brand Guidelines.
    Format the output with <h3> for titles and <p> for text.`;

    try {
        // âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±Ø§Ø¨Ø· Ø¥Ù„Ù‰ v1beta Ù„Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØµÙˆØ±Ø©
        const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ contents: [{ parts: [{ text: promptText }] }] })
        });

        const data = await response.json();
        
        if (data.candidates && data.candidates[0]?.content?.parts[0]?.text) {
            let result = data.candidates[0].content.parts[0].text;
            outputDiv.innerHTML = `<h2>${brand} - ${currentLang === 'ar' ? 'Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù‡ÙˆÙŠØ©' : 'Identity Guide'}</h2>` + result;
            outputDiv.style.display = "block";
            downloadBtn.style.display = "block";
        } else {
            console.error("Full Data:", data);
            throw new Error(data.error?.message || "Invalid API Response");
        }
    } catch (error) {
        alert(currentLang === 'ar' ? "Ø®Ø·Ø£: " + error.message : "Error: " + error.message);
    } finally {
        loading.style.display = "none";
    }
}

function downloadPDF() {
    const element = document.getElementById('output');
    const brand = document.getElementById('brand').value || 'Brand';
    html2pdf().from(element).save(`${brand}_Identity.pdf`);
}
</script>

</body>
</html>
